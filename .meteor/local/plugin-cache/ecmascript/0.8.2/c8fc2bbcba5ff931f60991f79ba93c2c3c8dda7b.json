{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"server/resource_calls/resource_calls.js","filenameRelative":"server/resource_calls/resource_calls.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"server/resource_calls/resource_calls.js.map","sourceFileName":"server/resource_calls/resource_calls.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"resource_calls"},"ignored":false,"code":"var Meteor = void 0;\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\n\nif (Meteor.isServer) {\n  Employees = new Mongo.Collection('employees');\n  Skills = new Mongo.Collection('skills'); // Publishes the employees collection to the client side.\n  // Publishes the existing skills collection to the client side subcscriotion.\n\n  Meteor.publish('employees.skills', function () {\n    return Skills.find();\n  });\n  Meteor.publish('employees.bySkill', function (skill_list) {\n    //console.log(skill_list.length);\n    if (skill_list.length == 0) {\n      return [];\n    }\n\n    return Employees.find({\n      \"skills\": {\n        \"$elemMatch\": {\n          \"name\": {\n            $in: skill_list\n          }\n        }\n      }\n    });\n    ;\n  });\n}","map":{"version":3,"sources":["server/resource_calls/resource_calls.js"],"names":["Meteor","module","watch","require","v","isServer","Employees","Mongo","Collection","Skills","publish","find","skill_list","length","$in"],"mappings":"AAAA,IAAIA,eAAJ;AAAWC,OAAOC,KAAP,CAAaC,QAAQ,eAAR,CAAb,EAAsC;AAACH,QAAD,YAAQI,CAAR,EAAU;AAACJ,aAAOI,CAAP;AAAS;AAApB,CAAtC,EAA4D,CAA5D;;AAEX,IAAGJ,OAAOK,QAAV,EAAmB;AACjBC,cAAY,IAAIC,MAAMC,UAAV,CAAqB,WAArB,CAAZ;AACAC,WAAS,IAAIF,MAAMC,UAAV,CAAqB,QAArB,CAAT,CAFiB,CAIjB;AAEA;;AACAR,SAAOU,OAAP,CAAe,kBAAf,EAAmC,YAAU;AAC3C,WAAOD,OAAOE,IAAP,EAAP;AACD,GAFD;AAIAX,SAAOU,OAAP,CAAe,mBAAf,EAAoC,UAASE,UAAT,EAAoB;AAEtD;AACA,QAAGA,WAAWC,MAAX,IAAqB,CAAxB,EAA0B;AACxB,aAAO,EAAP;AACD;;AACD,WAAOP,UAAUK,IAAV,CAAe;AAAC,gBAAW;AAAC,sBAAe;AAAE,kBAAQ;AAACG,iBAAKF;AAAN;AAAV;AAAhB;AAAZ,KAAf,CAAP;AAAkF;AACnF,GAPD;AAQD","file":"server/resource_calls/resource_calls.js.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\n\nif(Meteor.isServer){\n  Employees = new Mongo.Collection('employees');\n  Skills = new Mongo.Collection('skills');\n\n  // Publishes the employees collection to the client side.\n\n  // Publishes the existing skills collection to the client side subcscriotion.\n  Meteor.publish('employees.skills', function(){\n    return Skills.find();\n  });\n\n  Meteor.publish('employees.bySkill', function(skill_list){\n\n    //console.log(skill_list.length);\n    if(skill_list.length == 0){\n      return [];\n    }\n    return Employees.find({\"skills\" : {\"$elemMatch\" : { \"name\": {$in: skill_list}}}});;\n  });\n}\n"]},"hash":"c8fc2bbcba5ff931f60991f79ba93c2c3c8dda7b"}
